# 도커 스웜 
# 도커 스웜을 사용하는 이유 

하나의 호스트 머신에서 도커 엔진을 구동하다가 CPU 메모리, 디스크 용량과 같은 자원이 부족하면 

* 스케일 업 
* 스케일 아웃(클러스터로 구성)
 
서버를 병렬로 확장해나가면     
적당한 성능의 서버 여러대를 하나의 자원 풀을 만들어 사용할 수 있고 성능이 좋은 값 비싼 서버를 사지 않아도 된다.         

**그러나, 여러대의 서버를 하나의 자원 풀로 만드는 것은 쉬운 작업이 아니다.**       
새로운 서버나 컨테이너가 추가됐을 때 이를 발견(Service Discovery)하는 작업부터   
어떤 서버에 컨테이너를 할당할 것인가에 대한 스케줄러와 로드밸런서 문제,      
클러스터 내의 서버가 다운 됐을 때 **고가용성**을 어떻게 보장할지 등이 문제로 남아있다.      

다행히도 이러한 문제를 해결하는 여러 솔루션을 오픈소스로 활용할 수 있는데   
도커에서 공식적으로 제공하는 도커스웜과 스웜모드가 대표적이다.   

# 스웜 클래식과 도커 스웜 모드 

스웜 클래식/스웜 모드는 여러 대의 도커 서버를 하나의 클러스터로 만들어 컨테이너를 생성하는 여러 기능을 제공한다.       
컨테이너를 특정 도커 서버에 할당할 수 있고 유동적으로 서버를 확장시킬 수도 있다.    
그뿐만 아니라 스웜 클러스터에 등록된 서버의 컨테이너를 쉽게 관리할 수 있다.   
(서버 클러스터에서 컨테이너를 어떻게 다룰 수 있는지 기초적인 지식 쌓기에 적합하다.)   

도커 스웜에는 2가지 종류가 있다.   

1. 스웜 클래식 : 도커 버전 1.6 이후부터 사용할 수 있는 컨테이너로서의 스웜
2. 스웜 모드 : 도커 버전 1.12 이후부터 사용할 수 있는 도커 스웜 모드(Swarm)

두 종류의 가장 큰 차이점은 **목적**이다.  








