# 도커 컴포즈 
> 여러 컨테이너를 하나의 서비스로 정의해 컨테이너 묶음으로 관리할 수 있도록 도와주는 방법  

도커 컴포즈는, 여러 개의 컨테이너의 옵션과 환경을 정의한 파일을 읽어 컨테이너를 순차적으로 생성하는 방식으로 동작한다.    

* run 명령어
* 컨테이너의 의존성
* 네트워크
* 볼륨
* 기타 등등 함께 정의 가능 

설정 파일에 정의도니 서비스의 컨테이너 수를 유동적으로 조절가능하고    
서비스 디스커버리도 자동으로 이루어진다.   

# 도커 학습을 마치며 : 도커와 컨테이너 생태계    
 
도커사는 컨테이너 기술이 특정 벤더 또는 회사에 의존적으로 개발되지 않도록      
중립적인 입장에서 컨테이너 표준을 정의하는 OCI를 발표했다.    
    
OCI 에서는 컨테이너를 구성하기 위해 공통적으로 구현돼야하는     
런타임 및 이미지 스펙의 표준을 정의하고 있으며, 여러 컨테이너 기술이 이를 준수하고 있다.      
  
OCI가 발표된 이후 Moby 라는 큰 프로젝트 안에서     
도커 컨테이너 기술을 관리하기 시작했고 도커는 runC, containerd 그리고 도커 엔진으로 분리됐다.        
    
도커의 핵십 프로세서라고 하면 보통 도커 데몬을 떠롤리기 쉽지만 사실 도커  데몬은 컨테이너가 아니다.        
실제로 커넽이너 프로세서라고 불릴만한 것은 dockerd 가 아닌 runC이며, 컨테이너에 1:1로 매칭되는 런타임 역할을 담당한다.       
여러 runC 컨테이너 프로세스 및 이미지를 관리하는 주체가 바로 containerd 이고,     
우리가 알고 있는 도커 엔진은 containerd와 통신해 runC를 사용할 수 있도록 하는 엔드 유저용 도구에 불과하다.  
  
컨테이너를 생성하고 사용하기 위해 도커가 반드시 필요한 것은 아니며     
runC와 containerd는 도커 엔진 없이도 독립적으로 사용할 수 있다.     
(도커 컨테이너라 불리는 것은 도커가 아니라는 뜻이다)  
     
하지만, 일반적으로 사용자의 편의 또는 다른 컴포넌트와의 통합을 위해     
도커 엔진과 runC, containerd 를 함께 사용하는 경우가 대부분이기에 총칭해서 부리기도 한다.  
 
컨테이너 생태계에는 다양한 기술이 존재한다.       
그중에서 도커가 가장 성숙한 기술이기에 가장 많이 사용되고 있을뿐 절대적이지는 않는다.     

